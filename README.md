Torrent Checker system
======================

## Перед первым запуском
- Создайте файлы со своими настройками и списком сериалов: [`settings.json`](#settings), [`shows.json`](#torrentList).

Примеры файлов - `settings.json.sample`, `shows.json.sample` лежат в папке `default`.

## ФАЙЛ НАСТРОЕК

### Имя
- `settings.json`

### Расположение
- В корне папки torrentChecker

### Установка
Пример файла находится тут: `default/settings.json.sample`
- Скопируйте в корневую папку файл (заменив имя файла на нужное)
- Откройте файл текстовым редактором
- Замените в нем на свои:
    * пути к папке для закачки торрентов
    * пути для логов
    * пути для сообщений об ошибках
    * логины и пароли для нужных вам торрент трекеров
- Сохраните файл

## ФАЙЛ СО СПИСКОМ СЕРИАЛОВ

### Имя
- `shows.json`

### Расположение
- В корне папки torrentChecker

##### Каждый торрент описывается блоком вида

```json
{
    "tracker": "tracker_name",
    "hash": "torrent hash",
    "id": "torrent id",
    "description": "your short description"
}
```

##### Значения полей

* `tracker`
    - Тут задается имя плагина, отвечающего за сервер, на котором лежит данный торрент.
    - На данный момент поддерживаются варианты:
        + `"tracker" : "rutracker"` - *для [RuTracker.ORG](http://rutracker.org)*
        + `"tracker" : "nnm-club"` - *для [NoNaMe Club](http://nnmclub.to)*

* `hash`
    - Это системная информация, по которой опеределяется, изменилась ли раздача с момента последнего скачивания.
    - При добавлении нового торрента - задаем произвольное значние.
        + К примеру так: `"hash" : ""`
    - В последствии - *НЕ ИЗМЕНЯТЬ РУКАМИ!*
        + **Ex**: `"hash" : "e9c1a82537528e7053659807a002548b"` - *md5-hash для раздачи*

* `id`
    - Тут задается номер данной раздачи на торрент-трекере.
    - Для каждого трекера номера могут быть в разном формате.
    - Для раздачи с [RuTracker.ORG](http://rutracker.org):
        + Ссылка на раздачу: `http://rutracker.org/forum/viewtopic.php?t=3747359`
        + Тогда номер раздачи: `3747359`
        + В файле строка будет выглядеть так: `"id" : "3747359"`
    - Для раздачи с [NoNaMe Club](http://nnm-club.ru):
        + Ссылка на раздачу: `http://nnmclub.to/forum/viewtopic.php?t=564504`
        + Тогда номер раздачи: `564504`
        + В файле строка будет выглядеть так: `"id" : "564504"`

* `description`
    - Тут задается краткое описание, которое поможет вам понять, какой торрент вы качаете и что обновилось.
    - К примеру:
        + Для раздачи [Теория Большого Взрыва | Сезон 6](http://nnmclub.to/forum/viewtopic.php?t=564504)
        + Описание можно написать такое: `ТБВ 6 сезон`
        + В файле строка будет выглядеть так: `"description" : "ТБВ 6 сезон"`

### Установка
Пример файла находится тут: `default/shows.json.sample`
- Скопируйте в корневую папку файл (заменив имя файла на нужное)
- Откройте файл текстовым редактором
- Добавьте в него список торрентов, за которыми хотите следить
    - *Написание блока, описывающего одну раздачу - по схеме, описанной [выше](#torrentFormat)*
- Сохраните файл

## Плагины

### Нотификации в Твиттер
Для использования нотификаций в Твиттер, должен быть установлен и настроен консольный твиттер клиент ttytter!

### Нотификации в Телеграм
Для использования нотификаций в Телеграм:

1. Установите [python-telegram-bot](https://github.com/python-telegram-bot).
2. Пропишите [API ключ](https://core.telegram.org/bots#6-botfather) вашего бота и [ваш username](https://telegram.org/faq#q-what-are-usernames-how-do-i-get-one) в `settings.json`.
3. Выполните `python plugins/telegram_notif.py [token] [username]`, подставив туда данные, полученные выше.
4. Напишите боту в Телеграм команду `/torrents`.
5. Впишите полученный `chat_id` в соответствующее поле в `settings.py`.

##
*Приятного использования!*
